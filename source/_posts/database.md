---
title: 数据库 MySQL、Redis
date: 2022-12-14 5:26:43
categories: 
 - 学习
---
# Mysql

mysql的数据是存在磁盘上的而不是内存，mysql中的具体数据是存储中行中的，而行是存储在页中的。页是InnoDB存储引擎磁盘管理的最小单位,默认一页大小为16K

# 数据库

事务 索引 b+树 锁 sql调优 开放性问题

## 事务

事务特性ACID

脏读
不可重复读
幻读



## 锁
锁的对象：全局锁 表锁 行锁

锁的性质：共享锁(读锁) 排他锁(写锁) 意向锁

锁的使用态度：乐观锁 悲观锁


## 索引 

### 作用：
在表中建立索引，可以提高对表数据的查询效率

传统的查询方法，是按照表的顺序遍历的，不论查询几条数据，MySQL需要将表的数据从头到尾遍历一遍。

底层B+Tree 生成一个索引文件，在查询数据库时，找到索引文件进行遍历，在比较小的索引数据里查找，然后映射到对应的数据，能大幅提升查找的效率

### 分类：

使用分类：
主键索引(默认) 
唯一索引 
普通索引 
组合索引

索引和数据(叶子节点)是否在同一棵树上储存
聚簇索引(主键索引) 索引值ID+数据 数据存储方式 索引的逻辑顺序与数据的物理顺序一致
非聚簇索引(二级索引) 索引值+主键ID -> 根据ID回表   索引的逻辑顺序与数据的物理顺序不一致

[聚簇索引与主键索引的关系](https://zhuanlan.zhihu.com/p/529177534)

### 覆盖索引 ：所要查询的值是辅助索引的值，直接返回值，不用回表查主键索引值。

### 索引的适用条件（or not）：

### B+TREE 优缺点比较 二叉树 B树 HASH 



### 最左匹配
左边遇到范围查询，停止后面的匹配

在InnoDB的联合索引中，查询的时候只有匹配了前一个/左边的值之后，才能匹配下一个。

## 分布式缓存

## 查询优化